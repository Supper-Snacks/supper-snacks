{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport React, { useState } from 'react';\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword } from 'firebase/auth';\nimport { AuthTextInput, AuthPressable } from \"../components\";\nimport { auth } from \"../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar AuthScreen = function AuthScreen() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLogin = _useState2[0],\n      setIsLogin = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var signUpToast = function signUpToast() {\n    ToastAndroid.show('Sign Up successfully completed!', ToastAndroid.SHORT);\n  };\n\n  var missingFieldsToast = function missingFieldsToast() {\n    ToastAndroid.show('Missing fields, please try again!', ToastAndroid.SHORT);\n  };\n\n  var loginHandler = function loginHandler() {\n    if (email.length === 0 || password.length === 0) {\n      missingFieldsToast();\n      return;\n    }\n\n    return signInWithEmailAndPassword(auth, email, password).then(function (uc) {\n      var user = uc.user;\n      console.log(user);\n      restoreForm();\n    }).catch(function (err) {\n      var errCode = err.code;\n      var errMessage = err.message;\n      console.log('[loginHandler]', errCode, errMessage);\n    });\n  };\n\n  var signUpHandler = function signUpHandler() {\n    if (email.length === 0 || password.length === 0) {\n      missingFieldsToast();\n      return;\n    }\n\n    return createUserWithEmailAndPassword(auth, email, password).then(function (uc) {\n      var user = uc.user;\n      console.log(user);\n      restoreForm();\n      signUpToast();\n    }).catch(function (err) {\n      var errCode = err.code;\n      var errMessage = err.message;\n      console.log('[signUpHandler]', errCode, errMessage);\n    });\n  };\n\n  var restoreForm = function restoreForm() {\n    setEmail('');\n    setPassword('');\n    Keyboard.dismiss();\n  };\n\n  return _jsx(KeyboardAvoidingView, {\n    style: {\n      flex: 1\n    },\n    behavior: Platform.OS === 'ios' ? 'padding' : null,\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        style: [styles.welcomeText, styles.boldText],\n        children: \"Welcome back to\\nSupper Snacks!\"\n      }), _jsx(Text, {\n        style: [styles.authText, styles.boldText],\n        children: isLogin ? 'You are logging in!' : 'You are signing up!'\n      }), _jsx(AuthTextInput, {\n        value: email,\n        placeholder: \"Your Email\",\n        textHandler: setEmail,\n        keyboardType: \"email-address\"\n      }), _jsx(AuthTextInput, {\n        value: password,\n        placeholder: \"Your Password\",\n        textHandler: setPassword,\n        secureTextEntry: true\n      }), _jsx(AuthPressable, {\n        onPressHandler: isLogin ? loginHandler : signUpHandler,\n        title: 'Proceed'\n      }), _jsx(AuthPressable, {\n        onPressHandler: function onPressHandler() {\n          return setIsLogin(!isLogin);\n        },\n        title: \"Switch to \" + (isLogin ? 'Sign Up' : 'Login')\n      })]\n    })\n  });\n};\n\nexport default AuthScreen;\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#EBECF0',\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  boldText: {\n    fontWeight: '400'\n  },\n  welcomeText: {\n    fontSize: 32,\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  authText: {\n    fontSize: 20,\n    marginBottom: 10\n  }\n});","map":{"version":3,"names":["React","useState","createUserWithEmailAndPassword","signInWithEmailAndPassword","AuthTextInput","AuthPressable","auth","AuthScreen","isLogin","setIsLogin","email","setEmail","password","setPassword","signUpToast","ToastAndroid","show","SHORT","missingFieldsToast","loginHandler","length","then","uc","user","console","log","restoreForm","catch","err","errCode","code","errMessage","message","signUpHandler","Keyboard","dismiss","flex","Platform","OS","styles","container","welcomeText","boldText","authText","StyleSheet","create","backgroundColor","justifyContent","alignItems","fontWeight","fontSize","textAlign","marginBottom"],"sources":["C:/Users/guokw/OneDrive/Documents/supper-snacks/src/screens/AuthScreen.js"],"sourcesContent":["import {\r\n    StyleSheet,\r\n    View,\r\n    Text,\r\n    ToastAndroid,\r\n    Keyboard,\r\n    KeyboardAvoidingView,\r\n    Platform,\r\n} from 'react-native';\r\nimport React, { useState } from 'react';\r\nimport {\r\n    createUserWithEmailAndPassword,\r\n    signInWithEmailAndPassword,\r\n} from 'firebase/auth';\r\n\r\nimport { AuthTextInput, AuthPressable } from '../components';\r\nimport { auth } from '../firebase';\r\n\r\nconst AuthScreen = () => {\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    // Todo: email, password states\r\n\r\n    const signUpToast = () => {\r\n        ToastAndroid.show(\r\n            'Sign Up successfully completed!',\r\n            ToastAndroid.SHORT\r\n        );\r\n    };\r\n\r\n    const missingFieldsToast = () => {\r\n        ToastAndroid.show(\r\n            'Missing fields, please try again!',\r\n            ToastAndroid.SHORT\r\n        );\r\n    };\r\n\r\n    const loginHandler = () => {\r\n        if (email.length === 0 || password.length === 0) {\r\n            missingFieldsToast();\r\n            return;\r\n        }\r\n\r\n        // Todo\r\n        return signInWithEmailAndPassword(auth, email, password).then(uc => {\r\n            const user = uc.user;\r\n\r\n            console.log(user);\r\n\r\n            restoreForm();\r\n        }).catch(err => {\r\n            const errCode = err.code;\r\n            const errMessage = err.message;\r\n\r\n            console.log('[loginHandler]', errCode, errMessage);\r\n        });\r\n    };\r\n\r\n    const signUpHandler = () => {\r\n        if (email.length === 0 || password.length === 0) {\r\n            missingFieldsToast();\r\n            return;\r\n        }\r\n\r\n        // Todo\r\n        return createUserWithEmailAndPassword(auth, email, password)\r\n             .then((uc) => {\r\n                const user = uc.user;\r\n\r\n                console.log(user);\r\n\r\n                restoreForm();\r\n                signUpToast();\r\n            }).catch(err => {\r\n                const errCode = err.code;\r\n                const errMessage = err.message;\r\n\r\n                console.log('[signUpHandler]', errCode, errMessage);\r\n            });\r\n    };\r\n\r\n    const restoreForm = () => {\r\n        setEmail('');\r\n        setPassword('');\r\n        Keyboard.dismiss();\r\n    };\r\n\r\n    return (\r\n        <KeyboardAvoidingView\r\n            style={{ flex: 1 }}\r\n            behavior={Platform.OS === 'ios' ? 'padding' : null}\r\n        >\r\n            <View style={styles.container}>\r\n                <Text style={[styles.welcomeText, styles.boldText]}>\r\n                    {`Welcome back to\\nSupper Snacks!`}\r\n                </Text>\r\n                <Text style={[styles.authText, styles.boldText]}>\r\n                    {isLogin ? 'You are logging in!' : 'You are signing up!'}\r\n                </Text>\r\n                <AuthTextInput\r\n                    value={email}\r\n                    placeholder=\"Your Email\"\r\n                    textHandler={setEmail}\r\n                    keyboardType=\"email-address\"\r\n                />\r\n                <AuthTextInput\r\n                    value={password}\r\n                    placeholder=\"Your Password\"\r\n                    textHandler={setPassword}\r\n                    secureTextEntry\r\n                />\r\n                <AuthPressable\r\n                    onPressHandler={isLogin ? loginHandler : signUpHandler}\r\n                    title={'Proceed'}\r\n                />\r\n                <AuthPressable\r\n                    onPressHandler={() => setIsLogin(!isLogin)}\r\n                    title={`Switch to ${isLogin ? 'Sign Up' : 'Login'}`}\r\n                />\r\n            </View>\r\n        </KeyboardAvoidingView>\r\n    );\r\n};\r\n\r\nexport default AuthScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        backgroundColor: '#EBECF0',\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    },\r\n    boldText: {\r\n        fontWeight: '400',\r\n    },\r\n    welcomeText: {\r\n        fontSize: 32,\r\n        textAlign: 'center',\r\n        marginBottom: 20,\r\n    },\r\n    authText: {\r\n        fontSize: 20,\r\n        marginBottom: 10,\r\n    },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}