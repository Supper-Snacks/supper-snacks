{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { ListComponent } from \"../components\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar INITIAL_SIZE = 15;\nvar API_ENDPOINT = \"https://randomuser.me/api/?results=\" + INITIAL_SIZE;\n\nvar UsersScreen = function UsersScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  useEffect(function () {\n    fetch(API_ENDPOINT).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      setUsers(data.results);\n    }).catch(function (error) {\n      return console.error('Error:', error);\n    });\n  }, []);\n\n  var renderItem = function renderItem(_ref2) {\n    var _item$picture$thumbna, _item$picture;\n\n    var item = _ref2.item;\n    var name = item.name.first + \" \" + item.name.last;\n    var url = (_item$picture$thumbna = item == null ? void 0 : (_item$picture = item.picture) == null ? void 0 : _item$picture.thumbnail) != null ? _item$picture$thumbna : null;\n    return _jsx(ListComponent, {\n      url: url,\n      name: name\n    });\n  };\n\n  var keyExtractor = function keyExtractor(_item, index) {\n    return \"\" + index;\n  };\n\n  return users.length ? _jsx(SafeAreaView, {\n    style: {\n      marginTop: 20\n    },\n    children: _jsx(View, {\n      style: styles.root,\n      children: _jsx(FlatList, {\n        data: users,\n        renderItem: renderItem,\n        keyExtractor: keyExtractor\n      })\n    })\n  }) : null;\n};\n\nexport default UsersScreen;\nvar styles = StyleSheet.create({\n  root: {\n    justifyContent: 'center',\n    alignItem: 'center'\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","ListComponent","INITIAL_SIZE","API_ENDPOINT","UsersScreen","navigation","users","setUsers","fetch","then","response","json","data","results","catch","error","console","renderItem","item","name","first","last","url","picture","thumbnail","keyExtractor","_item","index","length","marginTop","styles","root","StyleSheet","create","justifyContent","alignItem"],"sources":["C:/Users/guokw/OneDrive/Documents/supper-snacks/src/screens/UsersScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n    StyleSheet,\r\n    Text,\r\n    View,\r\n    FlatList,\r\n    Image,\r\n    SafeAreaView,\r\n} from 'react-native';\r\nimport { ListComponent } from '../components';\r\n\r\nconst INITIAL_SIZE = 15;\r\nconst API_ENDPOINT = `https://randomuser.me/api/?results=${INITIAL_SIZE}`;\r\n\r\n/**\r\n * useEffect hook for initialising data using API call\r\n * JSON formatter: https://jsonformatter.curiousconcept.com/#\r\n */\r\nconst UsersScreen = ({ navigation }) => {\r\n    const [users, setUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch(API_ENDPOINT)\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                setUsers(data.results);\r\n            })\r\n            .catch((error) => console.error('Error:', error));\r\n    }, []); //dependency is set to empty array so function is only called once.\r\n\r\n    const renderItem = ({ item }) => {\r\n        const name = `${item.name.first} ${item.name.last}`;\r\n        const url = item?.picture?.thumbnail ?? null;\r\n        return <ListComponent url={url} name={name} />;\r\n    };\r\n\r\n    const keyExtractor = (_item, index) => `${index}`;\r\n\r\n    return users.length ? (\r\n        <SafeAreaView style={{ marginTop: 20 }}>\r\n            <View style={styles.root}>\r\n                <FlatList\r\n                    data={users}\r\n                    renderItem={renderItem}\r\n                    keyExtractor={keyExtractor}\r\n                />\r\n            </View>\r\n        </SafeAreaView>\r\n    ) : null;\r\n};\r\n\r\nexport default UsersScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n    root: {\r\n        justifyContent: 'center',\r\n        alignItem: 'center',\r\n    },\r\n});\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;;;;;AASA,SAASC,aAAT;;AAEA,IAAMC,YAAY,GAAG,EAArB;AACA,IAAMC,YAAY,2CAAyCD,YAA3D;;AAMA,IAAME,WAAW,GAAG,SAAdA,WAAc,OAAoB;EAAA,IAAjBC,UAAiB,QAAjBA,UAAiB;;EACpC,gBAA0BL,QAAQ,CAAC,EAAD,CAAlC;EAAA;EAAA,IAAOM,KAAP;EAAA,IAAcC,QAAd;;EAEAR,SAAS,CAAC,YAAM;IACZS,KAAK,CAACL,YAAD,CAAL,CACKM,IADL,CACU,UAACC,QAAD;MAAA,OAAcA,QAAQ,CAACC,IAAT,EAAd;IAAA,CADV,EAEKF,IAFL,CAEU,UAACG,IAAD,EAAU;MACZL,QAAQ,CAACK,IAAI,CAACC,OAAN,CAAR;IACH,CAJL,EAKKC,KALL,CAKW,UAACC,KAAD;MAAA,OAAWC,OAAO,CAACD,KAAR,CAAc,QAAd,EAAwBA,KAAxB,CAAX;IAAA,CALX;EAMH,CAPQ,EAON,EAPM,CAAT;;EASA,IAAME,UAAU,GAAG,SAAbA,UAAa,QAAc;IAAA;;IAAA,IAAXC,IAAW,SAAXA,IAAW;IAC7B,IAAMC,IAAI,GAAMD,IAAI,CAACC,IAAL,CAAUC,KAAhB,SAAyBF,IAAI,CAACC,IAAL,CAAUE,IAA7C;IACA,IAAMC,GAAG,4BAAGJ,IAAH,qCAAGA,IAAI,CAAEK,OAAT,qBAAG,cAAeC,SAAlB,oCAA+B,IAAxC;IACA,OAAO,KAAC,aAAD;MAAe,GAAG,EAAEF,GAApB;MAAyB,IAAI,EAAEH;IAA/B,EAAP;EACH,CAJD;;EAMA,IAAMM,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAQC,KAAR;IAAA,YAAqBA,KAArB;EAAA,CAArB;;EAEA,OAAOrB,KAAK,CAACsB,MAAN,GACH,KAAC,YAAD;IAAc,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAb,CAArB;IAAA,UACI,KAAC,IAAD;MAAM,KAAK,EAAEC,MAAM,CAACC,IAApB;MAAA,UACI,KAAC,QAAD;QACI,IAAI,EAAEzB,KADV;QAEI,UAAU,EAAEW,UAFhB;QAGI,YAAY,EAAEQ;MAHlB;IADJ;EADJ,EADG,GAUH,IAVJ;AAWH,CA/BD;;AAiCA,eAAerB,WAAf;AAEA,IAAM0B,MAAM,GAAGE,UAAU,CAACC,MAAX,CAAkB;EAC7BF,IAAI,EAAE;IACFG,cAAc,EAAE,QADd;IAEFC,SAAS,EAAE;EAFT;AADuB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}